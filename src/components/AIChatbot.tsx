
import { useState } from 'react';
import { Send, MessageCircle, Globe, Zap } from 'lucide-react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';

export const AIChatbot = () => {
  const [messages, setMessages] = useState([
    {
      type: 'bot',
      content: 'Hello! I\'m your AI spending assistant. Ask me about your expenses, receipts, or savings opportunities in any language!',
      timestamp: new Date()
    }
  ]);
  const [inputValue, setInputValue] = useState('');
  const [selectedLanguage, setSelectedLanguage] = useState('en');
  const [isLoading, setIsLoading] = useState(false);

  const languages = [
    { code: 'en', name: 'English', flag: 'ðŸ‡ºðŸ‡¸' },
    { code: 'hi', name: 'à¤¹à¤¿à¤‚à¤¦à¥€', flag: 'ðŸ‡®ðŸ‡³' },
    { code: 'te', name: 'à°¤à±†à°²à±à°—à±', flag: 'ðŸ‡®ðŸ‡³' },
    { code: 'ta', name: 'à®¤à®®à®¿à®´à¯', flag: 'ðŸ‡®ðŸ‡³' },
    { code: 'bn', name: 'à¦¬à¦¾à¦‚à¦²à¦¾', flag: 'ðŸ‡§ðŸ‡©' },
    { code: 'mr', name: 'à¤®à¤°à¤¾à¤ à¥€', flag: 'ðŸ‡®ðŸ‡³' },
    { code: 'gu', name: 'àª—à«àªœàª°àª¾àª¤à«€', flag: 'ðŸ‡®ðŸ‡³' },
    { code: 'kn', name: 'à²•à²¨à³à²¨à²¡', flag: 'ðŸ‡®ðŸ‡³' },
    { code: 'ml', name: 'à´®à´²à´¯à´¾à´³à´‚', flag: 'ðŸ‡®ðŸ‡³' },
    { code: 'pa', name: 'à¨ªà©°à¨œà¨¾à¨¬à©€', flag: 'ðŸ‡®ðŸ‡³' },
    { code: 'ur', name: 'Ø§Ø±Ø¯Ùˆ', flag: 'ðŸ‡µðŸ‡°' },
    { code: 'es', name: 'EspaÃ±ol', flag: 'ðŸ‡ªðŸ‡¸' },
    { code: 'fr', name: 'FranÃ§ais', flag: 'ðŸ‡«ðŸ‡·' },
    { code: 'de', name: 'Deutsch', flag: 'ðŸ‡©ðŸ‡ª' },
    { code: 'ar', name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ðŸ‡¸ðŸ‡¦' },
    { code: 'zh', name: 'ä¸­æ–‡', flag: 'ðŸ‡¨ðŸ‡³' },
  ];

  const getQuickQuestionsByLanguage = (langCode: string) => {
    const questions = {
      en: [
        "How much did I spend on groceries this month?",
        "What can I cook with my recent purchases?",
        "How can I save money on coffee?",
        "Show me my transportation costs",
        "What are my biggest spending categories?"
      ],
      hi: [
        "à¤‡à¤¸ à¤®à¤¹à¥€à¤¨à¥‡ à¤®à¥ˆà¤‚à¤¨à¥‡ à¤•à¤¿à¤°à¤¾à¤¨à¥‡ à¤•à¤¾ à¤¸à¤¾à¤®à¤¾à¤¨ à¤ªà¤° à¤•à¤¿à¤¤à¤¨à¤¾ à¤–à¤°à¥à¤š à¤•à¤¿à¤¯à¤¾?",
        "à¤®à¥ˆà¤‚ à¤…à¤ªà¤¨à¥€ à¤¹à¤¾à¤² à¤•à¥€ à¤–à¤°à¥€à¤¦à¤¾à¤°à¥€ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤•à¥à¤¯à¤¾ à¤¬à¤¨à¤¾ à¤¸à¤•à¤¤à¤¾ à¤¹à¥‚à¤‚?",
        "à¤®à¥ˆà¤‚ à¤•à¥‰à¤«à¥€ à¤ªà¤° à¤ªà¥ˆà¤¸à¥‡ à¤•à¥ˆà¤¸à¥‡ à¤¬à¤šà¤¾ à¤¸à¤•à¤¤à¤¾ à¤¹à¥‚à¤‚?",
        "à¤®à¥à¤à¥‡ à¤…à¤ªà¤¨à¥€ à¤ªà¤°à¤¿à¤µà¤¹à¤¨ à¤²à¤¾à¤—à¤¤ à¤¦à¤¿à¤–à¤¾à¤à¤‚",
        "à¤®à¥‡à¤°à¥€ à¤¸à¤¬à¤¸à¥‡ à¤¬à¤¡à¤¼à¥€ à¤–à¤°à¥à¤š à¤¶à¥à¤°à¥‡à¤£à¤¿à¤¯à¤¾à¤‚ à¤•à¥à¤¯à¤¾ à¤¹à¥ˆà¤‚?"
      ],
      te: [
        "à°ˆ à°¨à±†à°²à°²à±‹ à°¨à±‡à°¨à± à°•à°¿à°°à°¾à°£à°¾ à°¸à°¾à°®à°¾à°¨à± à°®à±€à°¦ à°Žà°‚à°¤ à°–à°°à±à°šà± à°šà±‡à°¶à°¾à°¨à±?",
        "à°¨à°¾ à°‡à°Ÿà±€à°µà°²à°¿ à°•à±Šà°¨à±à°—à±‹à°³à±à°²à°¤à±‹ à°¨à±‡à°¨à± à°à°®à°¿ à°µà°‚à°¡à°—à°²à°¨à±?",
        "à°•à°¾à°«à±€ à°®à±€à°¦ à°¨à±‡à°¨à± à°Žà°²à°¾ à°¡à°¬à±à°¬à± à°†à°¦à°¾ à°šà±‡à°¯à°—à°²à°¨à±?",
        "à°¨à°¾ à°°à°µà°¾à°£à°¾ à°–à°°à±à°šà±à°²à°¨à± à°šà±‚à°ªà°¿à°‚à°šà±",
        "à°¨à°¾ à°…à°¤à°¿à°ªà±†à°¦à±à°¦à°µà°¾à°°à±à°šà°¨ à°¶à±à°°à±‡à°£à±à°²à± à°à°®à°¿à°Ÿà°¿?"
      ],
      ta: [
        "à®‡à®¨à¯à®¤ à®®à®¾à®¤à®®à¯ à®¨à®¾à®©à¯ à®®à®³à®¿à®•à¯ˆà®ªà¯ à®ªà¯Šà®°à¯à®Ÿà¯à®•à®³à¯à®•à¯à®•à¯ à®Žà®µà¯à®µà®³à®µà¯ à®šà¯†à®²à®µà¯ à®šà¯†à®¯à¯à®¤à¯‡à®©à¯?",
        "à®Žà®©à¯ à®šà®®à¯€à®ªà®¤à¯à®¤à®¿à®¯ à®µà®¾à®™à¯à®•à®²à¯à®•à®³à¯à®Ÿà®©à¯ à®¨à®¾à®©à¯ à®Žà®©à¯à®© à®šà®®à¯ˆà®•à¯à®• à®®à¯à®Ÿà®¿à®¯à¯à®®à¯?",
        "à®•à®¾à®ªà®¿à®¯à®¿à®²à¯ à®¨à®¾à®©à¯ à®Žà®ªà¯à®ªà®Ÿà®¿ à®ªà®£à®®à¯ à®šà¯‡à®®à®¿à®•à¯à®• à®®à¯à®Ÿà®¿à®¯à¯à®®à¯?",
        "à®Žà®©à¯ à®ªà¯‹à®•à¯à®•à¯à®µà®°à®¤à¯à®¤à¯ à®šà¯†à®²à®µà¯à®•à®³à¯ˆà®•à¯ à®•à®¾à®Ÿà¯à®Ÿà¯",
        "à®Žà®©à¯ à®®à®¿à®•à®ªà¯à®ªà¯†à®°à®¿à®¯ à®šà¯†à®²à®µà¯ à®µà®•à¯ˆà®•à®³à¯ à®Žà®©à¯à®©?"
      ],
      bn: [
        "à¦à¦‡ à¦®à¦¾à¦¸à§‡ à¦†à¦®à¦¿ à¦®à§à¦¦à¦¿à¦–à¦¾à¦¨à¦¾à¦° à¦œà¦¨à§à¦¯ à¦•à¦¤ à¦–à¦°à¦š à¦•à¦°à§‡à¦›à¦¿?",
        "à¦†à¦®à¦¾à¦° à¦¸à¦¾à¦®à§à¦ªà§à¦°à¦¤à¦¿à¦• à¦•à§‡à¦¨à¦¾à¦•à¦¾à¦Ÿà¦¾ à¦¦à¦¿à¦¯à¦¼à§‡ à¦†à¦®à¦¿ à¦•à§€ à¦°à¦¾à¦¨à§à¦¨à¦¾ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿?",
        "à¦•à¦«à¦¿à¦¤à§‡ à¦†à¦®à¦¿ à¦•à§€à¦­à¦¾à¦¬à§‡ à¦Ÿà¦¾à¦•à¦¾ à¦¬à¦¾à¦à¦šà¦¾à¦¤à§‡ à¦ªà¦¾à¦°à¦¿?",
        "à¦†à¦®à¦¾à¦° à¦ªà¦°à¦¿à¦¬à¦¹à¦¨ à¦–à¦°à¦š à¦¦à§‡à¦–à¦¾à¦¨",
        "à¦†à¦®à¦¾à¦° à¦¸à¦¬à¦šà§‡à¦¯à¦¼à§‡ à¦¬à¦¡à¦¼ à¦–à¦°à¦šà§‡à¦° à¦¬à¦¿à¦­à¦¾à¦—à¦—à§à¦²à¦¿ à¦•à§€?"
      ],
      mr: [
        "à¤¯à¤¾ à¤®à¤¹à¤¿à¤¨à¥à¤¯à¤¾à¤¤ à¤®à¥€ à¤•à¤¿à¤°à¤¾à¤£à¤¾ à¤®à¤¾à¤²à¤¾à¤µà¤° à¤•à¤¿à¤¤à¥€ à¤–à¤°à¥à¤š à¤•à¥‡à¤²à¤¾?",
        "à¤®à¤¾à¤à¥à¤¯à¤¾ à¤…à¤²à¥€à¤•à¤¡à¤šà¥à¤¯à¤¾ à¤–à¤°à¥‡à¤¦à¥€à¤¸à¤¹ à¤®à¥€ à¤•à¤¾à¤¯ à¤¶à¤¿à¤œà¤µà¥‚ à¤¶à¤•à¤¤à¥‹?",
        "à¤•à¥‰à¤«à¥€à¤µà¤° à¤®à¥€ à¤ªà¥ˆà¤¸à¥‡ à¤•à¤¸à¥‡ à¤µà¤¾à¤šà¤µà¥‚ à¤¶à¤•à¤¤à¥‹?",
        "à¤®à¤¾à¤à¥‡ à¤µà¤¾à¤¹à¤¤à¥‚à¤• à¤–à¤°à¥à¤š à¤¦à¤¾à¤–à¤µà¤¾",
        "à¤®à¤¾à¤à¥‡ à¤¸à¤°à¥à¤µà¤¾à¤¤ à¤®à¥‹à¤ à¥‡ à¤–à¤°à¥à¤šà¤¾à¤šà¥‡ à¤µà¤°à¥à¤— à¤•à¥‹à¤£à¤¤à¥‡ à¤†à¤¹à¥‡à¤¤?"
      ],
      gu: [
        "àª† àª®àª¹àª¿àª¨à«‡ àª®à«‡àª‚ àª•àª¿àª°àª¾àª£àª¾àª¨àª¾ àª¸àª¾àª®àª¾àª¨ àªªàª° àª•à«‡àªŸàª²à«‹ àª–àª°à«àªš àª•àª°à«àª¯à«‹?",
        "àª®àª¾àª°à«€ àª¤àª¾àªœà«‡àª¤àª°àª¨à«€ àª–àª°à«€àª¦à«€àª“ àª¸àª¾àª¥à«‡ àª¹à«àª‚ àª¶à«àª‚ àª°àª¾àª‚àª§à«€ àª¶àª•à«àª‚?",
        "àª•à«‹àª«à«€ àªªàª° àª¹à«àª‚ àª•à«‡àªµà«€ àª°à«€àª¤à«‡ àªªà«ˆàª¸àª¾ àª¬àªšàª¾àªµà«€ àª¶àª•à«àª‚?",
        "àª®àª¾àª°àª¾ àªªàª°àª¿àªµàª¹àª¨ àª–àª°à«àªš àª¬àª¤àª¾àªµà«‹",
        "àª®àª¾àª°à«€ àª¸à«Œàª¥à«€ àª®à«‹àªŸà«€ àª–àª°à«àªš àª•à«‡àªŸà«‡àª—àª°à«€àª“ àª•àªˆ àª›à«‡?"
      ],
      kn: [
        "à²ˆ à²¤à²¿à²‚à²—à²³à³ à²¨à²¾à²¨à³ à²¦à²¿à²¨à²¸à²¿ à²¸à²¾à²®à²¾à²¨à³à²—à²³à²¿à²—à³† à²Žà²·à³à²Ÿà³ à²–à²°à³à²šà³ à²®à²¾à²¡à²¿à²¦à³†?",
        "à²¨à²¨à³à²¨ à²‡à²¤à³à²¤à³€à²šà²¿à²¨ à²–à²°à³€à²¦à²¿à²—à²³à³Šà²‚à²¦à²¿à²—à³† à²¨à²¾à²¨à³ à²à²¨à³ à²¬à³‡à²¯à²¿à²¸à²¬à²¹à³à²¦à³?",
        "à²•à²¾à²«à²¿à²¯à²²à³à²²à²¿ à²¨à²¾à²¨à³ à²¹à³‡à²—à³† à²¹à²£ à²‰à²³à²¿à²¸à²¬à²¹à³à²¦à³?",
        "à²¨à²¨à³à²¨ à²¸à²¾à²°à²¿à²—à³† à²µà³†à²šà³à²šà²—à²³à²¨à³à²¨à³ à²¤à³‹à²°à²¿à²¸à²¿",
        "à²¨à²¨à³à²¨ à²¦à³Šà²¡à³à²¡ à²µà³†à²šà³à²šà²¦ à²µà²°à³à²—à²—à²³à³ à²¯à²¾à²µà³à²µà³?"
      ],
      ml: [
        "à´ˆ à´®à´¾à´¸à´‚ à´žà´¾àµ» à´ªà´²à´µàµà´¯à´žàµà´œà´¨à´™àµà´™àµ¾à´•àµà´•àµ à´Žà´¤àµà´° à´šà´¿à´²à´µà´¾à´•àµà´•à´¿?",
        "à´Žà´¨àµà´±àµ† à´¸à´®àµ€à´ªà´•à´¾à´² à´µà´¾à´™àµà´™à´²àµà´•àµ¾ à´•àµŠà´£àµà´Ÿàµ à´Žà´¨à´¿à´•àµà´•àµ à´Žà´¨àµà´¤àµ à´ªà´¾à´šà´•à´‚ à´šàµ†à´¯àµà´¯à´¾à´‚?",
        "à´•àµ‹à´«à´¿à´¯à´¿àµ½ à´Žà´¨à´¿à´•àµà´•àµ à´Žà´™àµà´™à´¨àµ† à´ªà´£à´‚ à´²à´¾à´­à´¿à´•àµà´•à´¾à´‚?",
        "à´Žà´¨àµà´±àµ† à´—à´¤à´¾à´—à´¤ à´šà´¿à´²à´µàµà´•àµ¾ à´•à´¾à´£à´¿à´•àµà´•àµ‚",
        "à´Žà´¨àµà´±àµ† à´à´±àµà´±à´µàµà´‚ à´µà´²à´¿à´¯ à´šà´¿à´²à´µàµ à´µà´¿à´­à´¾à´—à´™àµà´™àµ¾ à´Žà´¨àµà´¤àµŠà´•àµà´•àµ†à´¯à´¾à´£àµ?"
      ],
      pa: [
        "à¨‡à¨¸ à¨®à¨¹à©€à¨¨à©‡ à¨®à©ˆà¨‚ à¨•à¨¿à¨°à¨¿à¨†à¨¨à©‡ à¨¦à©‡ à¨¸à¨¾à¨®à¨¾à¨¨ 'à¨¤à©‡ à¨•à¨¿à©°à¨¨à¨¾ à¨–à¨°à¨š à¨•à©€à¨¤à¨¾?",
        "à¨®à©ˆà¨‚ à¨†à¨ªà¨£à©€à¨†à¨‚ à¨¹à¨¾à¨²à©€à¨† à¨–à¨°à©€à¨¦à¨¦à¨¾à¨°à©€à¨†à¨‚ à¨¨à¨¾à¨² à¨•à©€ à¨ªà¨•à¨¾ à¨¸à¨•à¨¦à¨¾ à¨¹à¨¾à¨‚?",
        "à¨®à©ˆà¨‚ à¨•à¨¾à¨«à©€ 'à¨¤à©‡ à¨ªà©ˆà¨¸à©‡ à¨•à¨¿à¨µà©‡à¨‚ à¨¬à¨šà¨¾ à¨¸à¨•à¨¦à¨¾ à¨¹à¨¾à¨‚?",
        "à¨®à©ˆà¨¨à©‚à©° à¨†à¨ªà¨£à©‡ à¨†à¨µà¨¾à¨œà¨¾à¨ˆ à¨¦à©‡ à¨–à¨°à¨šà©‡ à¨¦à¨¿à¨–à¨¾à¨“",
        "à¨®à©‡à¨°à©€à¨†à¨‚ à¨¸à¨­ à¨¤à©‹à¨‚ à¨µà©±à¨¡à©€à¨†à¨‚ à¨–à¨°à¨šà¨¾ à¨¸à¨¼à©à¨°à©‡à¨£à©€à¨†à¨‚ à¨•à©€ à¨¹à¨¨?"
      ],
      ur: [
        "Ø§Ø³ Ù…ÛÛŒÙ†Û’ Ù…ÛŒÚº Ù†Û’ Ú©Ø±ÛŒØ§Ù†Û’ Ú©Û’ Ø³Ø§Ù…Ø§Ù† Ù¾Ø± Ú©ØªÙ†Ø§ Ø®Ø±Ú† Ú©ÛŒØ§ØŸ",
        "Ø§Ù¾Ù†ÛŒ Ø­Ø§Ù„ÛŒÛ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒÙˆÚº Ø³Û’ Ù…ÛŒÚº Ú©ÛŒØ§ Ù¾Ú©Ø§ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ",
        "Ú©Ø§ÙÛŒ Ù¾Ø± Ù…ÛŒÚº Ú©ÛŒØ³Û’ Ù¾ÛŒØ³Û’ Ø¨Ú†Ø§ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ",
        "Ù…Ø¬Ú¾Û’ Ø§Ù¾Ù†Û’ Ù†Ù‚Ù„ Ùˆ Ø­Ù…Ù„ Ú©Û’ Ø§Ø®Ø±Ø§Ø¬Ø§Øª Ø¯Ú©Ú¾Ø§Ø¦ÛŒÚº",
        "Ù…ÛŒØ±ÛŒ Ø³Ø¨ Ø³Û’ Ø¨Ú‘ÛŒ Ø®Ø±Ú† Ú©ÛŒ Ø§Ù‚Ø³Ø§Ù… Ú©ÛŒØ§ ÛÛŒÚºØŸ"
      ],
      es: [
        "Â¿CuÃ¡nto gastÃ© en comestibles este mes?",
        "Â¿QuÃ© puedo cocinar con mis compras recientes?",
        "Â¿CÃ³mo puedo ahorrar dinero en cafÃ©?",
        "MuÃ©strame mis gastos de transporte",
        "Â¿CuÃ¡les son mis categorÃ­as de gasto mÃ¡s grandes?"
      ],
      fr: [
        "Combien ai-je dÃ©pensÃ© en Ã©picerie ce mois-ci?",
        "Que puis-je cuisiner avec mes achats rÃ©cents?",
        "Comment puis-je Ã©conomiser de l'argent sur le cafÃ©?",
        "Montrez-moi mes coÃ»ts de transport",
        "Quelles sont mes plus grandes catÃ©gories de dÃ©penses?"
      ],
      de: [
        "Wie viel habe ich diesen Monat fÃ¼r Lebensmittel ausgegeben?",
        "Was kann ich mit meinen letzten EinkÃ¤ufen kochen?",
        "Wie kann ich beim Kaffee sparen?",
        "Zeigen Sie mir meine Transportkosten",
        "Was sind meine grÃ¶ÃŸten Ausgabenkategorien?"
      ],
      zh: [
        "è¿™ä¸ªæœˆæˆ‘åœ¨æ‚è´§ä¸ŠèŠ±äº†å¤šå°‘é’±ï¼Ÿ",
        "æˆ‘å¯ä»¥ç”¨æœ€è¿‘çš„è´­ä¹°åšä»€ä¹ˆèœï¼Ÿ",
        "æˆ‘æ€Žæ ·åœ¨å’–å•¡ä¸Šçœé’±ï¼Ÿ",
        "æ˜¾ç¤ºæˆ‘çš„äº¤é€šè´¹ç”¨",
        "æˆ‘æœ€å¤§çš„æ”¯å‡ºç±»åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"
      ],
      ar: [
        "ÙƒÙ… Ø£Ù†ÙÙ‚Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ù‚Ø§Ù„Ø© Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±ØŸ",
        "Ù…Ø§Ø°Ø§ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø£Ù† Ø£Ø·Ø¨Ø® Ø¨Ù…Ø´ØªØ±ÙŠØ§ØªÙŠ Ø§Ù„Ø£Ø®ÙŠØ±Ø©ØŸ",
        "ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ù‡ÙˆØ©ØŸ",
        "Ø£Ø±Ù†ÙŠ ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ø®Ø§ØµØ© Ø¨ÙŠ",
        "Ù…Ø§ Ù‡ÙŠ Ø£ÙƒØ¨Ø± ÙØ¦Ø§Øª Ø§Ù„Ø¥Ù†ÙØ§Ù‚ Ù„Ø¯ÙŠØŸ"
      ]
    };
    return questions[langCode] || questions.en;
  };

  const getWelcomeMessage = (langCode: string) => {
    const welcomes = {
      en: "Hello! I'm your AI spending assistant. Ask me about your expenses, receipts, or savings opportunities in any language!",
      hi: "à¤¨à¤®à¤¸à¥à¤¤à¥‡! à¤®à¥ˆà¤‚ à¤†à¤ªà¤•à¤¾ AI à¤–à¤°à¥à¤š à¤¸à¤¹à¤¾à¤¯à¤• à¤¹à¥‚à¤‚à¥¤ à¤®à¥à¤à¤¸à¥‡ à¤…à¤ªà¤¨à¥‡ à¤–à¤°à¥à¤š, à¤°à¤¸à¥€à¤¦à¥‹à¤‚ à¤¯à¤¾ à¤¬à¤šà¤¤ à¤•à¥‡ à¤…à¤µà¤¸à¤°à¥‹à¤‚ à¤•à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚ à¤•à¤¿à¤¸à¥€ à¤­à¥€ à¤­à¤¾à¤·à¤¾ à¤®à¥‡à¤‚ à¤ªà¥‚à¤›à¥‡à¤‚!",
      te: "à°¹à°²à±‹! à°¨à±‡à°¨à± à°®à±€ AI à°µà±à°¯à°¯ à°¸à°¹à°¾à°¯à°•à±à°¡à°¿à°¨à°¿. à°®à±€ à°–à°°à±à°šà±à°²à±, à°°à°¸à±€à°¦à±à°²à± à°²à±‡à°¦à°¾ à°ªà±Šà°¦à±à°ªà± à°…à°µà°•à°¾à°¶à°¾à°² à°—à±à°°à°¿à°‚à°šà°¿ à° à°­à°¾à°·à°²à±‹à°¨à±ˆà°¨à°¾ à°¨à°¨à±à°¨à± à°…à°¡à°—à°‚à°¡à°¿!",
      ta: "à®µà®£à®•à¯à®•à®®à¯! à®¨à®¾à®©à¯ à®‰à®™à¯à®•à®³à¯ AI à®šà¯†à®²à®µà¯ à®‰à®¤à®µà®¿à®¯à®¾à®³à®°à¯. à®‰à®™à¯à®•à®³à¯ à®šà¯†à®²à®µà¯à®•à®³à¯, à®°à®šà¯€à®¤à¯à®•à®³à¯ à®…à®²à¯à®²à®¤à¯ à®šà¯‡à®®à®¿à®ªà¯à®ªà¯ à®µà®¾à®¯à¯à®ªà¯à®ªà¯à®•à®³à¯ à®ªà®±à¯à®±à®¿ à®Žà®¨à¯à®¤ à®®à¯Šà®´à®¿à®¯à®¿à®²à¯à®®à¯ à®Žà®©à¯à®©à®¿à®Ÿà®®à¯ à®•à¯‡à®³à¯à®™à¯à®•à®³à¯!",
      bn: "à¦¹à§à¦¯à¦¾à¦²à§‹! à¦†à¦®à¦¿ à¦†à¦ªà¦¨à¦¾à¦° AI à¦–à¦°à¦šà§‡à¦° à¦¸à¦¹à¦¾à¦¯à¦¼à¦•à¥¤ à¦†à¦ªà¦¨à¦¾à¦° à¦–à¦°à¦š, à¦°à¦¸à¦¿à¦¦ à¦¬à¦¾ à¦¸à¦žà§à¦šà¦¯à¦¼à§‡à¦° à¦¸à§à¦¯à§‹à¦— à¦¸à¦®à§à¦ªà¦°à§à¦•à§‡ à¦¯à§‡à¦•à§‹à¦¨à§‹ à¦­à¦¾à¦·à¦¾à¦¯à¦¼ à¦†à¦®à¦¾à¦•à§‡ à¦œà¦¿à¦œà§à¦žà¦¾à¦¸à¦¾ à¦•à¦°à§à¦¨!",
      mr: "à¤¨à¤®à¤¸à¥à¤•à¤¾à¤°! à¤®à¥€ à¤¤à¥à¤®à¤šà¤¾ AI à¤–à¤°à¥à¤š à¤¸à¤¹à¤¾à¤¯à¥à¤¯à¤• à¤†à¤¹à¥‡. à¤¤à¥à¤®à¤šà¥à¤¯à¤¾ à¤–à¤°à¥à¤š, à¤ªà¤¾à¤µà¤¤à¥à¤¯à¤¾ à¤•à¤¿à¤‚à¤µà¤¾ à¤¬à¤šà¤¤à¥€à¤šà¥à¤¯à¤¾ à¤¸à¤‚à¤§à¥€à¤‚à¤¬à¤¦à¥à¤¦à¤² à¤•à¥‹à¤£à¤¤à¥à¤¯à¤¾à¤¹à¥€ à¤­à¤¾à¤·à¥‡à¤¤ à¤®à¤²à¤¾ à¤µà¤¿à¤šà¤¾à¤°à¤¾!",
      gu: "àª¨àª®àª¸à«àª¤à«‡! àª¹à«àª‚ àª¤àª®àª¾àª°à«‹ AI àª–àª°à«àªš àª¸àª¹àª¾àª¯àª• àª›à«àª‚. àª¤àª®àª¾àª°àª¾ àª–àª°à«àªš, àª°àª¸à«€àª¦à«‹ àª…àª¥àªµàª¾ àª¬àªšàª¤àª¨à«€ àª¤àª•à«‹ àªµàª¿àª¶à«‡ àª•à«‹àªˆàªªàª£ àª­àª¾àª·àª¾àª®àª¾àª‚ àª®àª¨à«‡ àªªà«‚àª›à«‹!",
      kn: "à²¨à²®à²¸à³à²•à²¾à²°! à²¨à²¾à²¨à³ à²¨à²¿à²®à³à²® AI à²µà³†à²šà³à²š à²¸à²¹à²¾à²¯à²•. à²¨à²¿à²®à³à²® à²µà³†à²šà³à²šà²—à²³à³, à²°à²¸à³€à²¦à²¿à²—à²³à³ à²…à²¥à²µà²¾ à²‰à²³à²¿à²¤à²¾à²¯ à²…à²µà²•à²¾à²¶à²—à²³ à²¬à²—à³à²—à³† à²¯à²¾à²µà³à²¦à³‡ à²­à²¾à²·à³†à²¯à²²à³à²²à²¿ à²¨à²¨à³à²¨à²¨à³à²¨à³ à²•à³‡à²³à²¿!",
      ml: "à´¹à´²àµ‹! à´žà´¾àµ» à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† AI à´šàµ†à´²à´µàµ à´¸à´¹à´¾à´¯à´•à´¨à´¾à´£àµ. à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´šàµ†à´²à´µàµà´•àµ¾, à´°à´¸àµ€à´¤àµà´•àµ¾ à´…à´²àµà´²àµ†à´™àµà´•à´¿àµ½ à´¸à´®àµà´ªà´¾à´¦àµà´¯ à´…à´µà´¸à´°à´™àµà´™àµ¾ à´•àµà´±à´¿à´šàµà´šàµ à´à´¤àµ à´­à´¾à´·à´¯à´¿à´²àµà´‚ à´Žà´¨àµà´¨àµ‹à´Ÿàµ à´šàµ‹à´¦à´¿à´•àµà´•àµà´•!",
      pa: "à¨¸à¨¤ à¨¸à©à¨°à©€ à¨…à¨•à¨¾à¨²! à¨®à©ˆà¨‚ à¨¤à©à¨¹à¨¾à¨¡à¨¾ AI à¨–à¨°à¨šà¨¾ à¨¸à¨¹à¨¾à¨‡à¨• à¨¹à¨¾à¨‚à¥¤ à¨¤à©à¨¹à¨¾à¨¡à©‡ à¨–à¨°à¨šà©‡, à¨°à¨¸à©€à¨¦à¨¾à¨‚ à¨œà¨¾à¨‚ à¨¬à¨šà¨¤ à¨¦à©‡ à¨®à©Œà¨•à¨¿à¨†à¨‚ à¨¬à¨¾à¨°à©‡ à¨•à¨¿à¨¸à©‡ à¨µà©€ à¨­à¨¾à¨¸à¨¼à¨¾ à¨µà¨¿à©±à¨š à¨®à©ˆà¨¨à©‚à©° à¨ªà©à©±à¨›à©‹!",
      ur: "ÛÛŒÙ„Ùˆ! Ù…ÛŒÚº Ø¢Ù¾ Ú©Ø§ AI Ø®Ø±Ú† Ù…Ø¹Ø§ÙˆÙ† ÛÙˆÚºÛ” Ø§Ù¾Ù†Û’ Ø§Ø®Ø±Ø§Ø¬Ø§ØªØŒ Ø±Ø³ÛŒØ¯ÙˆÚº ÛŒØ§ Ø¨Ú†Øª Ú©Û’ Ù…ÙˆØ§Ù‚Ø¹ Ú©Û’ Ø¨Ø§Ø±Û’ Ù…ÛŒÚº Ú©Ø³ÛŒ Ø¨Ú¾ÛŒ Ø²Ø¨Ø§Ù† Ù…ÛŒÚº Ù…Ø¬Ú¾ Ø³Û’ Ù¾ÙˆÚ†Ú¾ÛŒÚº!",
      es: "Â¡Hola! Soy tu asistente de gastos con IA. Â¡PregÃºntame sobre tus gastos, recibos u oportunidades de ahorro en cualquier idioma!",
      fr: "Bonjour! Je suis votre assistant de dÃ©penses IA. Demandez-moi vos dÃ©penses, reÃ§us ou opportunitÃ©s d'Ã©conomies dans n'importe quelle langue!",
      de: "Hallo! Ich bin Ihr KI-Ausgabenassistent. Fragen Sie mich nach Ihren Ausgaben, Belegen oder SparmÃ¶glichkeiten in jeder Sprache!",
      zh: "ä½ å¥½ï¼æˆ‘æ˜¯ä½ çš„AIæ”¯å‡ºåŠ©æ‰‹ã€‚ç”¨ä»»ä½•è¯­è¨€é—®æˆ‘å…³äºŽä½ çš„æ”¯å‡ºã€æ”¶æ®æˆ–å‚¨è“„æœºä¼šï¼",
      ar: "Ù…Ø±Ø­Ø¨Ø§! Ø£Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø¥Ù†ÙØ§Ù‚ Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ. Ø§Ø³Ø£Ù„Ù†ÙŠ Ø¹Ù† Ù†ÙÙ‚Ø§ØªÙƒ Ø£Ùˆ Ø¥ÙŠØµØ§Ù„Ø§ØªÙƒ Ø£Ùˆ ÙØ±Øµ Ø§Ù„ØªÙˆÙÙŠØ± Ø¨Ø£ÙŠ Ù„ØºØ©!"
    };
    return welcomes[langCode] || welcomes.en;
  };

  const simulateAIResponse = async (question: string) => {
    setIsLoading(true);
    
    // Simulate AI processing delay
    await new Promise(resolve => setTimeout(resolve, 1500));

    // Mock responses based on question content and language
    let response = "";
    const lowerQuestion = question.toLowerCase();
    
    if (lowerQuestion.includes('groceries') || lowerQuestion.includes('à¤•à¤¿à¤°à¤¾à¤¨à¥‡') || lowerQuestion.includes('à°•à°¿à°°à°¾à°£à°¾') || lowerQuestion.includes('à®®à®³à®¿à®•à¯ˆ') || lowerQuestion.includes('à¦®à§à¦¦à¦¿') || lowerQuestion.includes('à¤•à¤¿à¤°à¤¾à¤£à¤¾') || lowerQuestion.includes('àª•àª¿àª°àª¾àª£àª¾') || lowerQuestion.includes('à²¦à²¿à²¨à²¸à²¿') || lowerQuestion.includes('à´ªà´²à´µàµà´¯à´žàµà´œà´¨') || lowerQuestion.includes('à¨•à¨¿à¨°à¨¿à¨†à¨¨à©‡') || lowerQuestion.includes('Ú©Ø±ÛŒØ§Ù†Û’')) {
      const responses = {
        en: "Based on your receipts, you spent â‚¹28,745 on groceries this month. This is 12% higher than last month. I noticed you bought organic items frequently - consider shopping during sale days to save up to 20%.",
        hi: "à¤†à¤ªà¤•à¥€ à¤°à¤¸à¥€à¤¦à¥‹à¤‚ à¤•à¥‡ à¤†à¤§à¤¾à¤° à¤ªà¤°, à¤†à¤ªà¤¨à¥‡ à¤‡à¤¸ à¤®à¤¹à¥€à¤¨à¥‡ à¤•à¤¿à¤°à¤¾à¤¨à¥‡ à¤•à¤¾ à¤¸à¤¾à¤®à¤¾à¤¨ à¤ªà¤° â‚¹28,745 à¤–à¤°à¥à¤š à¤•à¤¿à¤à¥¤ à¤¯à¤¹ à¤ªà¤¿à¤›à¤²à¥‡ à¤®à¤¹à¥€à¤¨à¥‡ à¤¸à¥‡ 12% à¤…à¤§à¤¿à¤• à¤¹à¥ˆà¥¤",
        te: "à°®à±€ à°°à°¸à±€à°¦à±à°² à°†à°§à°¾à°°à°‚à°—à°¾, à°®à±€à°°à± à°ˆ à°¨à±†à°²à°²à±‹ à°•à°¿à°°à°¾à°£à°¾ à°¸à°¾à°®à°¾à°¨à± à°®à±€à°¦ â‚¹28,745 à°–à°°à±à°šà± à°šà±‡à°¶à°¾à°°à±à¥¤ à°‡à°¦à°¿ à°—à°¤ à°¨à±†à°² à°•à°‚à°Ÿà±‡ 12% à°Žà°•à±à°•à±à°µà¥¤",
        ta: "à®‰à®™à¯à®•à®³à¯ à®°à®šà¯€à®¤à¯à®•à®³à®¿à®©à¯ à®…à®Ÿà®¿à®ªà¯à®ªà®Ÿà¯ˆà®¯à®¿à®²à¯, à®‡à®¨à¯à®¤ à®®à®¾à®¤à®®à¯ à®¨à¯€à®™à¯à®•à®³à¯ à®®à®³à®¿à®•à¯ˆà®ªà¯ à®ªà¯Šà®°à¯à®Ÿà¯à®•à®³à¯à®•à¯à®•à¯ â‚¹28,745 à®šà¯†à®²à®µà¯ à®šà¯†à®¯à¯à®¤à¯à®³à¯à®³à¯€à®°à¯à®•à®³à¯. à®‡à®¤à¯ à®•à®Ÿà®¨à¯à®¤ à®®à®¾à®¤à®¤à¯à®¤à¯ˆ à®µà®¿à®Ÿ 12% à®…à®¤à®¿à®•à®®à¯à¥¤",
        bn: "à¦†à¦ªà¦¨à¦¾à¦° à¦°à¦¸à¦¿à¦¦à§‡à¦° à¦­à¦¿à¦¤à§à¦¤à¦¿à¦¤à§‡, à¦†à¦ªà¦¨à¦¿ à¦à¦‡ à¦®à¦¾à¦¸à§‡ à¦®à§à¦¦à¦¿à¦–à¦¾à¦¨à¦¾à¦° à¦œà¦¨à§à¦¯ â‚¹28,745 à¦–à¦°à¦š à¦•à¦°à§‡à¦›à§‡à¦¨à¥¤ à¦à¦Ÿà¦¿ à¦—à¦¤ à¦®à¦¾à¦¸à§‡à¦° à¦šà§‡à¦¯à¦¼à§‡ 12% à¦¬à§‡à¦¶à¦¿à¥¤",
        mr: "à¤¤à¥à¤®à¤šà¥à¤¯à¤¾ à¤°à¤¸à¥€à¤¦à¤¾à¤‚à¤šà¥à¤¯à¤¾ à¤†à¤§à¤¾à¤°à¥‡, à¤¤à¥à¤®à¥à¤¹à¥€ à¤¯à¤¾ à¤®à¤¹à¤¿à¤¨à¥à¤¯à¤¾à¤¤ à¤•à¤¿à¤°à¤¾à¤£à¤¾à¤®à¤¾à¤²à¤¾à¤µà¤° â‚¹28,745 à¤–à¤°à¥à¤š à¤•à¥‡à¤²à¤¾ à¤†à¤¹à¥‡. à¤¹à¥‡ à¤—à¥‡à¤²à¥à¤¯à¤¾ à¤®à¤¹à¤¿à¤¨à¥à¤¯à¤¾à¤ªà¥‡à¤•à¥à¤·à¤¾ 12% à¤œà¤¾à¤¸à¥à¤¤ à¤†à¤¹à¥‡.",
        gu: "àª¤àª®àª¾àª°à«€ àª°àª¸à«€àª¦à«‹àª¨àª¾ àª†àª§àª¾àª°à«‡, àª¤àª®à«‡ àª† àª®àª¹àª¿àª¨à«‡ àª•àª¿àª°àª¾àª£àª¾àª¨àª¾ àª¸àª¾àª®àª¾àª¨ àªªàª° â‚¹28,745 àª–àª°à«àªš àª•àª°à«àª¯à«‹ àª›à«‡. àª† àª—àª¯àª¾ àª®àª¹àª¿àª¨àª¾ àª•àª°àª¤àª¾àª‚ 12% àªµàª§àª¾àª°à«‡ àª›à«‡.",
        kn: "à²¨à²¿à²®à³à²® à²°à²¸à³€à²¦à²¿à²—à²³ à²†à²§à²¾à²°à²¦ à²®à³‡à²²à³†, à²ˆ à²¤à²¿à²‚à²—à²³à³ à²¨à³€à²µà³ à²¦à²¿à²¨à²¸à²¿ à²¸à²¾à²®à²¾à²¨à³à²—à²³à²¿à²—à³† â‚¹28,745 à²–à²°à³à²šà³ à²®à²¾à²¡à²¿à²¦à³à²¦à³€à²°à²¿. à²‡à²¦à³ à²•à²³à³†à²¦ à²¤à²¿à²‚à²—à²³à²¿à²—à²¿à²‚à²¤ 12% à²¹à³†à²šà³à²šà³.",
        ml: "à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´°à´¸àµ€à´¤àµà´•à´³àµà´Ÿàµ† à´…à´Ÿà´¿à´¸àµà´¥à´¾à´¨à´¤àµà´¤à´¿àµ½, à´ˆ à´®à´¾à´¸à´‚ à´¨à´¿à´™àµà´™àµ¾ à´ªà´²à´µàµà´¯à´žàµà´œà´¨à´™àµà´™àµ¾à´•àµà´•à´¾à´¯à´¿ â‚¹28,745 à´šà´¿à´²à´µà´¾à´•àµà´•à´¿. à´‡à´¤àµ à´•à´´à´¿à´žàµà´ž à´®à´¾à´¸à´¤àµà´¤àµ‡à´•àµà´•à´¾àµ¾ 12% à´•àµ‚à´Ÿàµà´¤à´²à´¾à´£àµ.",
        pa: "à¨¤à©à¨¹à¨¾à¨¡à©€à¨†à¨‚ à¨°à¨¸à©€à¨¦à¨¾à¨‚ à¨¦à©‡ à¨†à¨§à¨¾à¨° à¨¤à©‡, à¨¤à©à¨¸à©€à¨‚ à¨‡à¨¸ à¨®à¨¹à©€à¨¨à©‡ à¨•à¨¿à¨°à¨¿à¨†à¨¨à©‡ à¨¦à©‡ à¨¸à¨¾à¨®à¨¾à¨¨ 'à¨¤à©‡ â‚¹28,745 à¨–à¨°à¨š à¨•à©€à¨¤à©‡ à¨¹à¨¨à¥¤ à¨‡à¨¹ à¨ªà¨¿à¨›à¨²à©‡ à¨®à¨¹à©€à¨¨à©‡ à¨¨à¨¾à¨²à©‹à¨‚ 12% à¨µà©±à¨§ à¨¹à©ˆà¥¤",
        ur: "Ø¢Ù¾ Ú©ÛŒ Ø±Ø³ÛŒØ¯ÙˆÚº Ú©ÛŒ Ø¨Ù†ÛŒØ§Ø¯ Ù¾Ø±ØŒ Ø¢Ù¾ Ù†Û’ Ø§Ø³ Ù…ÛÛŒÙ†Û’ Ú©Ø±ÛŒØ§Ù†Û’ Ú©Û’ Ø³Ø§Ù…Ø§Ù† Ù¾Ø± â‚¹28,745 Ø®Ø±Ú† Ú©ÛŒÛ’ ÛÛŒÚºÛ” ÛŒÛ Ù¾Ú†Ú¾Ù„Û’ Ù…ÛÛŒÙ†Û’ Ø³Û’ 12% Ø²ÛŒØ§Ø¯Û ÛÛ’Û”"
      };
      response = responses[selectedLanguage] || responses.en;
    } else if (lowerQuestion.includes('coffee') || lowerQuestion.includes('à¤•à¥‰à¤«à¥€') || lowerQuestion.includes('àª•à«‹àª«à«€') || lowerQuestion.includes('à¦•à¦«à¦¿') || lowerQuestion.includes('à´•àµ‹à´«à´¿') || lowerQuestion.includes('à¦•à¦¾à¦¹à¦¿') || lowerQuestion.includes('àª•à«‹àª«à«€')) {
      const responses = {
        en: "You've spent â‚¹4,700 on coffee this month. Try brewing at home to save â‚¹3,500/month! I can create a savings goal pass for your wallet.",
        hi: "à¤†à¤ªà¤¨à¥‡ à¤‡à¤¸ à¤®à¤¹à¥€à¤¨à¥‡ à¤•à¥‰à¤«à¥€ à¤ªà¤° â‚¹4,700 à¤–à¤°à¥à¤š à¤•à¤¿à¤ à¤¹à¥ˆà¤‚à¥¤ à¤˜à¤° à¤ªà¤° à¤¬à¤¨à¤¾à¤¨à¥‡ à¤•à¥€ à¤•à¥‹à¤¶à¤¿à¤¶ à¤•à¤°à¥‡à¤‚ à¤”à¤° â‚¹3,500/à¤®à¤¹à¥€à¤¨à¤¾ à¤¬à¤šà¤¾à¤à¤‚!",
        te: "à°®à±€à°°à± à°ˆ à°¨à±†à°²à°²à±‹ à°•à°¾à°«à±€ à°®à±€à°¦ â‚¹4,700 à°–à°°à±à°šà± à°šà±‡à°¶à°¾à°°à±à¥¤ à°‡à°‚à°Ÿà±à°²à±‹ à°¤à°¯à°¾à°°à± à°šà±‡à°¸à°¿ à°¨à±†à°²à°•à± â‚¹3,500 à°†à°¦à°¾ à°šà±‡à°¯à°‚à°¡à°¿!",
        ta: "à®‡à®¨à¯à®¤ à®®à®¾à®¤à®®à¯ à®¨à¯€à®™à¯à®•à®³à¯ à®•à®¾à®ªà®¿à®•à¯à®•à¯ â‚¹4,700 à®šà¯†à®²à®µà¯ à®šà¯†à®¯à¯à®¤à¯à®³à¯à®³à¯€à®°à¯à®•à®³à¯. à®µà¯€à®Ÿà¯à®Ÿà®¿à®²à¯ à®¤à®¯à®¾à®°à®¿à®¤à¯à®¤à¯ à®®à®¾à®¤à®®à¯ â‚¹3,500 à®šà¯‡à®®à®¿à®•à¯à®•à®²à®¾à®®à¯!",
        bn: "à¦†à¦ªà¦¨à¦¿ à¦à¦‡ à¦®à¦¾à¦¸à§‡ à¦•à¦«à¦¿à¦¤à§‡ â‚¹4,700 à¦–à¦°à¦š à¦•à¦°à§‡à¦›à§‡à¦¨à¥¤ à¦¬à¦¾à¦¡à¦¼à¦¿à¦¤à§‡ à¦¤à§ˆà¦°à¦¿ à¦•à¦°à§‡ à¦®à¦¾à¦¸à§‡ â‚¹3,500 à¦¸à¦¾à¦¶à§à¦°à¦¯à¦¼ à¦•à¦°à§à¦¨!",
        mr: "à¤¤à¥à¤®à¥à¤¹à¥€ à¤¯à¤¾ à¤®à¤¹à¤¿à¤¨à¥à¤¯à¤¾à¤¤ à¤•à¥‰à¤«à¥€à¤µà¤° â‚¹4,700 à¤–à¤°à¥à¤š à¤•à¥‡à¤²à¤¾ à¤†à¤¹à¥‡. à¤˜à¤°à¥€ à¤¬à¤¨à¤µà¥‚à¤¨ à¤¦à¤°à¤®à¤¹à¤¾ â‚¹3,500 à¤µà¤¾à¤šà¤µà¤¾!",
        gu: "àª¤àª®à«‡ àª† àª®àª¹àª¿àª¨à«‡ àª•à«‹àª«à«€ àªªàª° â‚¹4,700 àª–àª°à«àªš àª•àª°à«àª¯à«‹ àª›à«‡. àª˜àª°à«‡ àª¬àª¨àª¾àªµà«€àª¨à«‡ àª®àª¹àª¿àª¨à«‡ â‚¹3,500 àª¬àªšàª¾àªµà«‹!",
        kn: "à²ˆ à²¤à²¿à²‚à²—à²³à³ à²¨à³€à²µà³ à²•à²¾à²«à²¿à²—à³† â‚¹4,700 à²–à²°à³à²šà³ à²®à²¾à²¡à²¿à²¦à³à²¦à³€à²°à²¿. à²®à²¨à³†à²¯à²²à³à²²à²¿ à²¤à²¯à²¾à²°à²¿à²¸à²¿ à²¤à²¿à²‚à²—à²³à²¿à²—à³† â‚¹3,500 à²‰à²³à²¿à²¸à²¿!",
        ml: "à´ˆ à´®à´¾à´¸à´‚ à´¨à´¿à´™àµà´™àµ¾ à´•àµ‹à´«à´¿à´•àµà´•àµ â‚¹4,700 à´šà´¿à´²à´µà´¾à´•àµà´•à´¿. à´µàµ€à´Ÿàµà´Ÿà´¿àµ½ à´‰à´£àµà´Ÿà´¾à´•àµà´•à´¿ à´®à´¾à´¸à´¤àµà´¤à´¿àµ½ â‚¹3,500 à´²à´¾à´­à´¿à´•àµà´•à´¾à´‚!",
        pa: "à¨¤à©à¨¸à©€à¨‚ à¨‡à¨¸ à¨®à¨¹à©€à¨¨à©‡ à¨•à¨¾à¨«à©€ à¨¤à©‡ â‚¹4,700 à¨–à¨°à¨š à¨•à©€à¨¤à©‡ à¨¹à¨¨à¥¤ à¨˜à¨° à¨µà¨¿à©±à¨š à¨¬à¨£à¨¾ à¨•à©‡ à¨®à¨¹à©€à¨¨à©‡ â‚¹3,500 à¨¬à¨šà¨¾à¨“!",
        ur: "Ø¢Ù¾ Ù†Û’ Ø§Ø³ Ù…ÛÛŒÙ†Û’ Ú©Ø§ÙÛŒ Ù¾Ø± â‚¹4,700 Ø®Ø±Ú† Ú©ÛŒÛ’ ÛÛŒÚºÛ” Ú¯Ú¾Ø± Ù…ÛŒÚº Ø¨Ù†Ø§ Ú©Ø± Ù…Ø§ÛØ§Ù†Û â‚¹3,500 Ø¨Ú†Ø§Ø¦ÛŒÚº!"
      };
      response = responses[selectedLanguage] || responses.en;
    } else {
      const responses = {
        en: "I've analyzed your spending data. Based on your recent receipts and patterns, I can help you with budgeting, finding savings opportunities, or creating shopping lists. What specific aspect would you like to explore?",
        hi: "à¤®à¥ˆà¤‚à¤¨à¥‡ à¤†à¤ªà¤•à¥‡ à¤–à¤°à¥à¤š à¤•à¥‡ à¤¡à¥‡à¤Ÿà¤¾ à¤•à¤¾ à¤µà¤¿à¤¶à¥à¤²à¥‡à¤·à¤£ à¤•à¤¿à¤¯à¤¾ à¤¹à¥ˆà¥¤ à¤†à¤ªà¤•à¥€ à¤¹à¤¾à¤² à¤•à¥€ à¤°à¤¸à¥€à¤¦à¥‹à¤‚ à¤”à¤° à¤ªà¥ˆà¤Ÿà¤°à¥à¤¨ à¤•à¥‡ à¤†à¤§à¤¾à¤° à¤ªà¤°, à¤®à¥ˆà¤‚ à¤¬à¤œà¤Ÿà¤¿à¤‚à¤— à¤®à¥‡à¤‚ à¤†à¤ªà¤•à¥€ à¤®à¤¦à¤¦ à¤•à¤° à¤¸à¤•à¤¤à¤¾ à¤¹à¥‚à¤‚à¥¤",
        te: "à°¨à±‡à°¨à± à°®à±€ à°µà±à°¯à°¯ à°¡à±‡à°Ÿà°¾à°¨à± à°µà°¿à°¶à±à°²à±‡à°·à°¿à°‚à°šà°¾à°¨à±. à°®à±€ à°‡à°Ÿà±€à°µà°²à°¿ à°°à°¸à±€à°¦à±à°²à± à°®à°°à°¿à°¯à± à°¨à°®à±‚à°¨à°¾à°² à°†à°§à°¾à°°à°‚à°—à°¾, à°¨à±‡à°¨à± à°¬à°¡à±à°œà±†à°Ÿà°¿à°‚à°—à±â€Œà°²à±‹ à°®à±€à°•à± à°¸à°¹à°¾à°¯à°‚ à°šà±‡à°¯à°—à°²à°¨à±.",
        ta: "à®¨à®¾à®©à¯ à®‰à®™à¯à®•à®³à¯ à®šà¯†à®²à®µà¯ à®¤à®°à®µà¯ˆ à®ªà®•à¯à®ªà¯à®ªà®¾à®¯à¯à®µà¯ à®šà¯†à®¯à¯à®¤à¯à®³à¯à®³à¯‡à®©à¯. à®‰à®™à¯à®•à®³à¯ à®šà®®à¯€à®ªà®¤à¯à®¤à®¿à®¯ à®°à®šà¯€à®¤à¯à®•à®³à¯ à®®à®±à¯à®±à¯à®®à¯ à®µà®Ÿà®¿à®µà®™à¯à®•à®³à®¿à®©à¯ à®…à®Ÿà®¿à®ªà¯à®ªà®Ÿà¯ˆà®¯à®¿à®²à¯, à®ªà®Ÿà¯à®œà¯†à®Ÿà¯à®Ÿà®¿à®²à¯ à®‰à®™à¯à®•à®³à¯à®•à¯à®•à¯ à®‰à®¤à®µ à®®à¯à®Ÿà®¿à®¯à¯à®®à¯.",
        bn: "à¦†à¦®à¦¿ à¦†à¦ªà¦¨à¦¾à¦° à¦–à¦°à¦šà§‡à¦° à¦¡à§‡à¦Ÿà¦¾ à¦¬à¦¿à¦¶à§à¦²à§‡à¦·à¦£ à¦•à¦°à§‡à¦›à¦¿à¥¤ à¦†à¦ªà¦¨à¦¾à¦° à¦¸à¦¾à¦®à§à¦ªà§à¦°à¦¤à¦¿à¦• à¦°à¦¸à¦¿à¦¦ à¦à¦¬à¦‚ à¦ªà§à¦¯à¦¾à¦Ÿà¦¾à¦°à§à¦¨à§‡à¦° à¦­à¦¿à¦¤à§à¦¤à¦¿à¦¤à§‡, à¦†à¦®à¦¿ à¦¬à¦¾à¦œà§‡à¦Ÿà¦¿à¦‚à¦¯à¦¼à§‡ à¦†à¦ªà¦¨à¦¾à¦•à§‡ à¦¸à¦¾à¦¹à¦¾à¦¯à§à¦¯ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿à¥¤",
        mr: "à¤®à¥€ à¤¤à¥à¤®à¤šà¥à¤¯à¤¾ à¤–à¤°à¥à¤šà¤¾à¤šà¥à¤¯à¤¾ à¤¡à¥‡à¤Ÿà¤¾à¤šà¥‡ à¤µà¤¿à¤¶à¥à¤²à¥‡à¤·à¤£ à¤•à¥‡à¤²à¥‡ à¤†à¤¹à¥‡. à¤¤à¥à¤®à¤šà¥à¤¯à¤¾ à¤…à¤²à¥€à¤•à¤¡à¤šà¥à¤¯à¤¾ à¤ªà¤¾à¤µà¤¤à¥à¤¯à¤¾ à¤†à¤£à¤¿ à¤¨à¤®à¥à¤¨à¥à¤¯à¤¾à¤‚à¤šà¥à¤¯à¤¾ à¤†à¤§à¤¾à¤°à¥‡, à¤®à¥€ à¤¬à¤œà¥‡à¤Ÿà¤¿à¤‚à¤—à¤®à¤§à¥à¤¯à¥‡ à¤®à¤¦à¤¤ à¤•à¤°à¥‚ à¤¶à¤•à¤¤à¥‹.",
        gu: "àª®à«‡àª‚ àª¤àª®àª¾àª°àª¾ àª–àª°à«àªšàª¨àª¾ àª¡à«‡àªŸàª¾àª¨à«àª‚ àªµàª¿àª¶à«àª²à«‡àª·àª£ àª•àª°à«àª¯à«àª‚ àª›à«‡. àª¤àª®àª¾àª°à«€ àª¤àª¾àªœà«‡àª¤àª°àª¨à«€ àª°àª¸à«€àª¦à«‹ àª…àª¨à«‡ àªªà«‡àªŸàª°à«àª¨àª¨àª¾ àª†àª§àª¾àª°à«‡, àª¹à«àª‚ àª¬àªœà«‡àªŸàª¿àª‚àª—àª®àª¾àª‚ àª®àª¦àª¦ àª•àª°à«€ àª¶àª•à«àª‚ àª›à«àª‚.",
        kn: "à²¨à²¾à²¨à³ à²¨à²¿à²®à³à²® à²µà³†à²šà³à²šà²¦ à²¡à³‡à²Ÿà²¾à²µà²¨à³à²¨à³ à²µà²¿à²¶à³à²²à³‡à²·à²¿à²¸à²¿à²¦à³à²¦à³‡à²¨à³†. à²¨à²¿à²®à³à²® à²‡à²¤à³à²¤à³€à²šà²¿à²¨ à²°à²¸à³€à²¦à²¿à²—à²³à³ à²®à²¤à³à²¤à³ à²®à²¾à²¦à²°à²¿à²—à²³ à²†à²§à²¾à²°à²¦ à²®à³‡à²²à³†, à²¨à²¾à²¨à³ à²¬à²œà³†à²Ÿà²¿à²‚à²—à³â€Œà²¨à²²à³à²²à²¿ à²¸à²¹à²¾à²¯ à²®à²¾à²¡à²¬à²¹à³à²¦à³.",
        ml: "à´žà´¾àµ» à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´šàµ†à´²à´µàµ à´¡à´¾à´±àµà´± à´µà´¿à´¶à´•à´²à´¨à´‚ à´šàµ†à´¯àµà´¤à´¿à´Ÿàµà´Ÿàµà´£àµà´Ÿàµ. à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´¸à´®àµ€à´ªà´•à´¾à´² à´°à´¸àµ€à´¤àµà´•à´³àµà´Ÿàµ†à´¯àµà´‚ à´ªà´¾à´±àµà´±àµ‡à´£àµà´•à´³àµà´Ÿàµ†à´¯àµà´‚ à´…à´Ÿà´¿à´¸àµà´¥à´¾à´¨à´¤àµà´¤à´¿àµ½, à´Žà´¨à´¿à´•àµà´•àµ à´¬à´¡àµà´œà´±àµà´±à´¿à´‚à´—à´¿àµ½ à´¸à´¹à´¾à´¯à´¿à´•àµà´•à´¾à´¨à´¾à´•àµà´‚.",
        pa: "à¨®à©ˆà¨‚ à¨¤à©à¨¹à¨¾à¨¡à©‡ à¨–à¨°à¨šà©‡ à¨¦à©‡ à¨¡à¨¾à¨Ÿà¨¾ à¨¦à¨¾ à¨µà¨¿à¨¸à¨¼à¨²à©‡à¨¸à¨¼à¨£ à¨•à©€à¨¤à¨¾ à¨¹à©ˆà¥¤ à¨¤à©à¨¹à¨¾à¨¡à©€à¨†à¨‚ à¨¹à¨¾à¨²à©€à¨† à¨°à¨¸à©€à¨¦à¨¾à¨‚ à¨…à¨¤à©‡ à¨¨à¨®à©‚à¨¨à¨¿à¨†à¨‚ à¨¦à©‡ à¨†à¨§à¨¾à¨° à¨¤à©‡, à¨®à©ˆà¨‚ à¨¬à¨œà¨Ÿà¨¿à©°à¨— à¨µà¨¿à©±à¨š à¨®à¨¦à¨¦ à¨•à¨° à¨¸à¨•à¨¦à¨¾ à¨¹à¨¾à¨‚à¥¤",
        ur: "Ù…ÛŒÚº Ù†Û’ Ø¢Ù¾ Ú©Û’ Ø®Ø±Ú† Ú©Û’ ÚˆÛŒÙ¹Ø§ Ú©Ø§ ØªØ¬Ø²ÛŒÛ Ú©ÛŒØ§ ÛÛ’Û” Ø¢Ù¾ Ú©ÛŒ Ø­Ø§Ù„ÛŒÛ Ø±Ø³ÛŒØ¯ÙˆÚº Ø§ÙˆØ± Ù¾ÛŒÙ¹Ø±Ù† Ú©ÛŒ Ø¨Ù†ÛŒØ§Ø¯ Ù¾Ø±ØŒ Ù…ÛŒÚº Ø¨Ø¬Ù¹Ù†Ú¯ Ù…ÛŒÚº Ù…Ø¯Ø¯ Ú©Ø± Ø³Ú©ØªØ§ ÛÙˆÚºÛ”"
      };
      response = responses[selectedLanguage] || responses.en;
    }

    setMessages(prev => [...prev, {
      type: 'bot',
      content: response,
      timestamp: new Date()
    }]);
    
    setIsLoading(false);
  };

  const handleSendMessage = async () => {
    if (!inputValue.trim()) return;

    const userMessage = {
      type: 'user',
      content: inputValue,
      timestamp: new Date()
    };

    setMessages(prev => [...prev, userMessage]);
    const question = inputValue;
    setInputValue('');

    await simulateAIResponse(question);
  };

  const handleQuickQuestion = (question: string) => {
    setInputValue(question);
  };

  const handleLanguageChange = (langCode: string) => {
    setSelectedLanguage(langCode);
    // Update welcome message
    setMessages([{
      type: 'bot',
      content: getWelcomeMessage(langCode),
      timestamp: new Date()
    }]);
  };

  return (
    <div className="p-6 max-w-4xl mx-auto">
      <div className="mb-6">
        <h1 className="text-3xl font-bold text-gray-900 mb-2">AI Assistant</h1>
        <p className="text-gray-600">Ask questions about your spending and get insights</p>
      </div>

      {/* Language Selector */}
      <Card className="mb-6">
        <CardHeader>
          <CardTitle className="flex items-center text-lg">
            <Globe className="w-5 h-5 mr-2 text-blue-600" />
            Language / à¤­à¤¾à¤·à¤¾ / à¦­à¦¾à¦·à¦¾ / àª­àª¾àª·àª¾ / à²­à²¾à²·à³† / à´¤à¤•à¤¾à¤µà¤³ / à¨­à¨¾à¨¸à¨¼à¨¾ / Ø²Ø¨Ø§Ù†
          </CardTitle>
        </CardHeader>
        <CardContent>
          <div className="flex flex-wrap gap-2">
            {languages.map((lang) => (
              <Button
                key={lang.code}
                variant={selectedLanguage === lang.code ? "default" : "outline"}
                size="sm"
                onClick={() => handleLanguageChange(lang.code)}
                className={selectedLanguage === lang.code ? "bg-blue-600" : ""}
              >
                <span className="mr-1">{lang.flag}</span>
                {lang.name}
              </Button>
            ))}
          </div>
        </CardContent>
      </Card>

      {/* Chat Interface */}
      <div className="grid lg:grid-cols-3 gap-6">
        <div className="lg:col-span-2">
          <Card className="h-96">
            <CardHeader>
              <CardTitle className="flex items-center">
                <MessageCircle className="w-5 h-5 mr-2 text-green-600" />
                Chat
              </CardTitle>
            </CardHeader>
            <CardContent className="flex flex-col h-80">
              <div className="flex-1 overflow-y-auto space-y-4 mb-4">
                {messages.map((message, index) => (
                  <div
                    key={index}
                    className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`}
                  >
                    <div
                      className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${
                        message.type === 'user'
                          ? 'bg-blue-600 text-white'
                          : 'bg-gray-100 text-gray-900'
                      }`}
                    >
                      <p className="text-sm">{message.content}</p>
                    </div>
                  </div>
                ))}
                {isLoading && (
                  <div className="flex justify-start">
                    <div className="bg-gray-100 rounded-lg px-4 py-2">
                      <div className="flex items-center space-x-2">
                        <Zap className="w-4 h-4 text-yellow-500 animate-pulse" />
                        <span className="text-sm text-gray-600">AI is thinking...</span>
                      </div>
                    </div>
                  </div>
                )}
              </div>
              
              <div className="flex space-x-2">
                <Input
                  value={inputValue}
                  onChange={(e) => setInputValue(e.target.value)}
                  placeholder="Ask about your spending..."
                  onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}
                  className="flex-1"
                />
                <Button 
                  onClick={handleSendMessage}
                  disabled={!inputValue.trim() || isLoading}
                  className="bg-blue-600 hover:bg-blue-700"
                >
                  <Send className="w-4 h-4" />
                </Button>
              </div>
            </CardContent>
          </Card>
        </div>

        {/* Quick Questions */}
        <div>
          <Card>
            <CardHeader>
              <CardTitle className="text-lg">Try asking...</CardTitle>
            </CardHeader>
            <CardContent className="space-y-2">
              {getQuickQuestionsByLanguage(selectedLanguage).map((question, index) => (
                <Button
                  key={index}
                  variant="outline"
                  size="sm"
                  onClick={() => handleQuickQuestion(question)}
                  className="w-full text-left justify-start h-auto p-3 text-wrap"
                >
                  {question}
                </Button>
              ))}
            </CardContent>
          </Card>
        </div>
      </div>
    </div>
  );
};
